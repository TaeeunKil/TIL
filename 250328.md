# TIL

## 수업

<details>
<summary>
 Django 05 ORM with view
</summary>


### Read
### Create
- 교재흐름대로 제작을 했다.
- 3가지 크리에잇 중에 2번을 한다 - 저장 전 유효성 검사를 하기 위해
### HTTP request methods
- HTTP : 네트워크 상에서 데이터를 주고받기 위한 약속
- HTTP request methods
    - 데이터에 대해 수행을 원하는 작업을 나타내는 것
    - 클라이언트가 웹 서버에 특정 동작을 요청하기 위해 사용하는 표준 명령어
    - 대표 메서드 : GET, POST

#### GET method
- 서버로부터 데이터를 요청하고 받아올 때(조회) 사용
- 특징
    1. 데이터 전송
        - URL의 쿼리 문자열로 데이터 전송
        - url/?title=제목&content=내용
    2. 데이터 제한
        - URL 길이에 제한이 있어서 데이터 전송에 적합하지 않음
    3. 브라우저 히스토리
        - 요청 URL이 브라우저 히스토리에 남음(뒤로가기 가능)
    4. 캐싱
        - 브라우저는 GET 요청의 응답을 로컬에 저장할 수 있음
        - 동일한 URL로 다시 요청할 때, 서버에 접속하지 않고 저장된 결과를 사용
        - 페이지 로딩 시간을 크게 단축
- 사용 예시
    - 검색 쿼리 전송
    - 웹 페이지 요청
    - API에서 데이터 조회

#### POST method
- 서버에 데이터를 제출하여 리소스를 변경(생성, 수정, 삭제)하는 데에 사용
- 특징
    1. 데이터 전송
        - HTTP Body를 통해 데이터 전송
    2. 데이터 제한
        - GET에 비해 더 많은 데이터를 전송 가능
    3. 브라우저 히스토리
        - POST 요청은 브라우저 히스토리에 남지 않음
    4. 캐싱
        - POST 요청은 기본적으로 캐시할 수 없음
        - POST 요청이 일반적으로 서버의 상태를 변경하는 작업을 수행하기 때문
- 사용 예시
    - 로그인 정보 제출
    - 파일 업로드
    - 새 데이터 생성(새 게시글 작성)
    - API에서 데이터 변경 요청

### HTTP response status code
- 서버가 클라이언트의 요청에 대한 처리 결과를 나타내는 3자리 숫자 (404, 403 에러 따위)
- 역할
    - 클라이언트에게 요청 처리 결과를 명확히 전달
    - 문제 발생 시 디버깅에 도움
    - 웹 애플리케이션의 동작을 제어하는 데 사용
- 403 Forbidden : 서버에 요청은 전달되었지만 *권한*때문에 거절되었음
- CSRF token이 누락되었다??

#### CSRF
- Cross-Site-Request-Forgery
- 사이트 간 요청 위조
- 사용자가 자신의 의지와 무관하게 공격자가 의도한 행동을 하여 특정 웹 페이지를 보안에 취약하게 하거나 수정, 삭제 등의 작업을 하게 만드는 공격 방법
- CSRF Tokken 적용
    - DTL 의 crsf_token 태그를 사용해 손쉽게 토큰 값 부여 가능
    - 요청 시 토큰 값도 함께 서버로 전송될 수 있도록 하는 것
- 해야하는 이유
    - DB에 데이터를 하나를 생성하는 요청에 대해 **Django가 직접 제공한 페이지에서 데이터를 작성하고 있는가**에 대한 확인 수단이 필요하다.
    - 겉모습은 똑같은 위조 사이트 or 정상적이지 않은 요청에 대한 방어 수단
    - 요청 데이터 + *인증토큰*  = 게시글 작성

- POST일 때만 Token 확인?
    - 단순 조회를 위한 GET과는 달리 특정 리소스에 변경(생성, 수정, 삭제)을 요구하는 의미와 기술적인 부분
    - DB에 조작을 가하는 요청은 반드시 인증 수단이 필
    - DB 변경사항을 만드는 요청이기 때문에 토큰을 사용해 최소한의 신원 확인을 하는 것

- 게시글 작성 결과
    - 개발자 도구를 사용해 Form Data가 전송되는 것 확인
    - 더 이상 URL에 Query String 형태로 보냈던 데이터가 표기되지 않음

### Redirect
- 게시글 작성하고 완료를 알리는 페이지를 응답하는 건 좀 이상해
- 데이터 저장 후 페이지 응답보다는 사용자를 적절한 기존 페이지로 보내야지!
- **실제로 서버가 클라이언트를 보내는 게 아니라 클라이언트가 GET요청을 한 번 더 보내도록 응답하는 것**
- redirect() : 클라이언트가 인자에 작성된 주소로 다시 요청을 보내도록 하는 함수
- render import 할 때 redirect도 같이 부르자.
- 동작 원리
    - redirect 응답을 받은 클라이언트는 해당 url로 다시 요청을 보낸다
    - 결과적으로 해당 view 함수가 호출되어 반환 결과인 해당 페이지를 보게 된다
    - 즉 게시글 작성 후 작성된 게시글의 해당 페이지로 이동하는 것으로 느낀다

### Delete
### Update

### 참고

</details>

## 강사님 리뷰

- 캐시 처음 설명한 곳은 cpu
- 캐시와 쿠키의 차이점? 컨텐츠 vs 사용자정보

- HTTP response status code - 4로 시작이면 클라이언트, 5로 시작이면 서버 문제
- csrf_token의 의미는 서버에서 준 페이지인가?이므로 서버에서 찍어주는 게 맞음

## 문제풀이
### boj.13160.최대 클리크 찾기

- for i, (s, e) in enumerate(intervals, start=1) 이걸 처음 알게 되었다
- i를 1부터 매겨주는 enumerate
- 기본 아이디어는 스타트 엔드 표현을 해놓고 점을 전부 힙에 넣어서 정렬시킨다
- 그 후 하나씩 뽑으면서 꺼낸걸로 카운트 해서 정리
